(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{53:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var r=c(2),n=c.n(r),i=c(28),a=c.n(i),s=(c(53),c(9)),o=c(7),d=c(3),l=c(36),j=c(17),u=c(15),h=c(1),b=Object(r.createContext)();function O(e){var t=Object(r.useState)((function(){var e=[];try{e=JSON.parse(localStorage.getItem("cart"))||[]}catch(t){e=[]}return e})),c=Object(d.a)(t,2),n=c[0],i=c[1];Object(r.useEffect)((function(){n&&localStorage.setItem("cart",JSON.stringify(n))}),[n]);var a={cart:n,getCartCount:function(){return n.reduce((function(e,t){return e+t.quantity}),0)},getProductFromCart:function(e){return n.find((function(t){return t.id===e}))},getTotalPrice:function(){return n.reduce((function(e,t){return e+t.price*t.quantity}),0)},onProductAdd:function(e){if(n.find((function(t){return t.id===e.id}))){var t=n.map((function(t){return t.id===e.id?Object(u.a)(Object(u.a)({},t),{},{quantity:t.quantity+1}):t}));i(t)}else i([].concat(Object(j.a)(n),[Object(u.a)(Object(u.a)({},e),{},{quantity:1})]))},onProductDelete:function(e){var t=n.filter((function(t){return t.id!==e}));i(t)}};return Object(h.jsx)(b.Provider,{value:a,children:e.children})}var x=c(31),p=c(32),m=["children","outline","className"];function f(e){var t=e.children,c=e.outline,r=e.className,n=Object(x.a)(e,m),i=Object(p.a)({btn:!0,"btn-default":!c,"btn-outline":c},r);return Object(h.jsx)("button",Object(u.a)(Object(u.a)({className:i},n),{},{children:t}))}function v(e){var t=Object(r.useContext)(b).getCartCount(),c=Object(r.useState)(!1),n=Object(d.a)(c,2),i=n[0],a=n[1],o=Object(r.useState)(!0),j=Object(d.a)(o,2),u=j[0],O=j[1],x=function(e){O(e)};return Object(r.useEffect)((function(){window.matchMedia("(prefers-color-scheme: dark)").matches&&a(!0)}),[]),Object(r.useEffect)((function(){i?document.body.classList.add("dark"):document.body.classList.remove("dark")}),[i]),Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsx)(s.c,{to:"/",className:"nav-brand",children:"SuperM"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("div",{className:"theme-switcher darkmode",onClick:function(){a(!i)},children:Object(h.jsx)(l.a,{style:{marginBottom:"2rem"},checked:u,onChange:x,size:24})})}),Object(h.jsx)("li",{className:"nav-item hide-small",children:Object(h.jsx)(s.c,{exact:!0,activeClassName:"active",to:"/",children:"Home"})}),Object(h.jsx)("li",{className:"nav-item hide-small",children:Object(h.jsx)(s.c,{exact:!0,activeClassName:"active",to:"/about",children:"About us"})}),Object(h.jsx)("li",{className:"nav-item hide-small",children:Object(h.jsx)(s.c,{activeClassName:"active",to:"/products",children:"Products"})}),Object(h.jsx)("li",{children:Object(h.jsxs)(s.c,{to:"/cart",className:"nav-item nav-cart btn btn-accent",children:["Cart (",t,")"]})})]})]})}function g(){return Object(h.jsxs)("div",{className:"home-layout",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Online shopping simplified"}),Object(h.jsxs)("p",{children:["Order your groceries from ",Object(h.jsx)("em",{children:"SuperM"})," with our easy to use app, and get your products delivered straight to your doorstep."]}),Object(h.jsx)(s.b,{to:"/products",className:"btn btn-default",children:"Start shopping"})]}),Object(h.jsx)("img",{src:"https://res.cloudinary.com/dbfn5lnvx/image/upload/q_auto,w_700/v1607770215/react-tutorial/supermarket/home.jpg",width:"350",height:"240",className:"rounded home-image",alt:""})]})}function y(){return Object(h.jsxs)("div",{className:"about-layout",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"About Us"}),Object(h.jsxs)("p",{children:["We started operations in 2020. We guarantee fresh produce.",Object(h.jsx)("br",{}),"Save time by shopping on our app and we'll deliver the products right to your home. ",Object(h.jsx)("br",{}),Object(h.jsx)("em",{children:"We use Stripe to process your payment."})]})]}),Object(h.jsx)("img",{src:"https://res.cloudinary.com/dbfn5lnvx/image/upload/q_auto,w_550/v1607770215/react-tutorial/supermarket/about.jpg",height:"275",width:"183",className:"rounded",alt:""})]})}var N=function(){return Object(h.jsx)("h1",{children:"Sorry to see you cancel your stripe payment"})},C=function(){return Object(h.jsx)("h1",{children:"Thank you for your purchase!"})};function w(e){var t=e.details,c=Object(r.useContext)(b),n=c.getProductFromCart(t.id),i=n?n.quantity:0;return Object(h.jsxs)("div",{className:"product",children:[Object(h.jsxs)("div",{className:"product-image-container",children:[Object(h.jsx)(s.b,{to:"/products/".concat(t.id),children:Object(h.jsx)("img",{src:t.image,width:"100",height:"100",className:"product-image",alt:t.name})}),i>0&&Object(h.jsx)("div",{className:"product-quantity-container",children:Object(h.jsx)("div",{className:"product-quantity",children:i})})]}),Object(h.jsxs)("div",{className:"product-info",children:[Object(h.jsx)("h3",{children:t.name}),Object(h.jsx)("p",{children:t.description})]}),Object(h.jsxs)("div",{className:"product-checkout",children:[Object(h.jsx)("div",{children:i>0&&Object(h.jsx)(f,{outline:!0,onClick:function(){return c.onProductDelete(t.id)},className:"product-delete",children:"x"})}),Object(h.jsxs)(f,{outline:!0,onClick:function(){return c.onProductAdd(t)},children:["$",t.price]})]})]})}function P(e){var t=Object(r.useState)(!1),c=Object(d.a)(t,2),n=c[0],i=c[1];return{get:function(t){return new Promise((function(c,r){fetch(e+t).then((function(e){return e.json()})).then((function(e){if(!e)return i(!1),r(e);i(!1),c(e)})).catch((function(e){i(!1),r(e)}))}))},post:function(t,c){return new Promise((function(r,n){fetch(e+t,Object(u.a)({},{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).then((function(e){return e.json()})).then((function(e){if(!e)return i(!1),n(e);i(!1),r(e)})).catch((function(e){i(!1),n(e)}))}))},loading:n}}function S(){return Object(h.jsx)("svg",{className:"spinner",width:"65px",height:"65px",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("circle",{className:"path",fill:"none",strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30"})})}var k=[{description:"200g cheese block",id:1,image:"https://res.cloudinary.com/dbfn5lnvx/image/upload/q_auto/v1607769454/react-tutorial/products/final/cheese.png",name:"Cheese",price:10,price_id:"price_1MEcmHGsoFsdfGabKsrVJwEl"},{description:"200ml milk bottle",id:2,image:"https://res.cloudinary.com/dbfn5lnvx/image/upload/q_auto/v1607769454/react-tutorial/products/final/milk.png",name:"Milk",price:5,price_id:"price_1MEcnFGsoFsdfGabfv14PX2x"},{description:"1 piece of tomato",id:3,image:"https://res.cloudinary.com/dbfn5lnvx/image/upload/q_auto/v1607769454/react-tutorial/products/final/tomato.png",name:"Tomato",price:2.75,price_id:"price_1MEcq8GsoFsdfGabF7ND0dGt"},{description:"500g pineapple",id:4,image:"https://res.cloudinary.com/dbfn5lnvx/image/upload/q_auto/v1607769454/react-tutorial/products/final/pineapple.png",name:"Pineapple",price:3.25,price_id:"price_1MEcnqGsoFsdfGabOjZ224Sc"}],q=["className","placeholder","required","type"];function _(e){var t=e.className,c=e.placeholder,r=e.required,n=e.type,i=void 0===n?"text":n,a=Object(x.a)(e,q),s=Object(p.a)({input:!0},t);return Object(h.jsxs)("label",{className:"label",children:[c,r&&Object(h.jsx)("span",{className:"input-required",children:"*"}),Object(h.jsx)("div",{children:Object(h.jsx)("input",Object(u.a)({type:i,placeholder:c,className:s,required:r},a))})]})}function F(e){var t=Object(r.useState)(k),c=Object(d.a)(t,2),n=c[0],i=(c[1],Object(r.useState)("")),a=Object(d.a)(i,2),s=a[0],o=a[1],l=Object(r.useState)([]),j=Object(d.a)(l,2),u=j[0],b=j[1],O=P("https://react-tutorial-demo.firebaseio.com/"),x=(O.get,O.loading);return Object(h.jsxs)("div",{className:"products-layout",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{className:"input",style:{width:"100%"},type:"search",placeholder:"Search...",value:s,onChange:function(e){var t=e.target.value;o(t);var c=n.filter((function(e){return e.name.toLowerCase()===t.toLowerCase()}));b(c)}}),u.map((function(t){return Object(h.jsx)(w,{details:t,cart:e.cart,onProductAdd:e.onProductAdd,onProductDelete:e.onProductDelete},t.id)}))]}),Object(h.jsx)("h1",{children:"Products"}),Object(h.jsx)("p",{children:"Take a look at our products"}),Object(h.jsxs)("div",{className:"products-grid",children:[x&&Object(h.jsx)(S,{}),n.map((function(t){return Object(h.jsx)(w,{details:t,cart:e.cart,onProductAdd:e.onProductAdd,onProductDelete:e.onProductDelete},t.id)}))]})]})}function E(e){var t=e.product,c=Object(r.useContext)(b);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("p",{children:[t.description," sold at ",Object(h.jsxs)("strong",{children:["$",t.price]})," per piece."]}),Object(h.jsxs)(f,{onClick:function(){return c.onProductAdd(t)},children:["$",t.price]})]})}function G(e){var t=e.nutrition;return Object(h.jsxs)("table",{className:"table table-nutrition",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Nutrient"}),Object(h.jsx)("th",{children:"Value"})]})}),Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Protein"}),Object(h.jsxs)("td",{children:[t.protein,"g"]})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Carbohydrates"}),Object(h.jsxs)("td",{children:[t.carbs,"g"]})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Fat"}),Object(h.jsxs)("td",{children:[t.fat,"g"]})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Salt"}),Object(h.jsxs)("td",{children:[t.salt,"g"]})]})]})]})}function D(e){var t=e.storage;return Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Storage instructions:"})," ",t]})}function M(e){var t=Object(r.useState)({}),c=Object(d.a)(t,2),n=c[0],i=c[1],a=P("https://react-tutorial-demo.firebaseio.com/").get,l=Object(o.f)(),j=Object(o.g)();return Object(r.useEffect)((function(){a("productinfo/id".concat(l.id,".json")).then((function(e){i(e)})).catch((function(e){return console.log("Could not load product details",e)}))}),[]),Object(h.jsxs)("div",{className:"product-details-layout",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:n.name}),Object(h.jsx)("img",{src:n.image,width:"125",height:"125",className:"product-details-image",alt:n.name})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"tabs",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(s.c,{exact:!0,activeClassName:"tab-active",to:j.url,children:"Details"})}),Object(h.jsx)("li",{children:Object(h.jsx)(s.c,{exact:!0,activeClassName:"tab-active",to:j.url+"/nutrition",children:"Nutrition"})}),Object(h.jsx)("li",{children:Object(h.jsx)(s.c,{exact:!0,activeClassName:"tab-active",to:j.url+"/storage",children:"Storage"})})]})}),Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{exact:!0,path:j.path,children:Object(h.jsx)(E,{product:n})}),Object(h.jsx)(o.a,{path:j.path+"/nutrition",children:Object(h.jsx)(G,{nutrition:n.nutrition})}),Object(h.jsx)(o.a,{path:j.path+"/storage",children:Object(h.jsx)(D,{storage:n.storage})})]})]})]})}var T=c(45),A=Object(T.a)("pk_test_51MDIJ1GsoFsdfGabIPtjmnQsWW7VFkNzYcBP3ctDQzIdx2q3XvbG6454emaG9NcPaF5r1XNj8MST7ml1TGHpkbSl00z2yOAN0F");function I(){var e=Object(r.useContext)(b),t=e.cart,c=e.getTotalPrice(),n=Object(r.useState)(""),i=Object(d.a)(n,2),a=i[0],s=i[1];return Object(h.jsx)("div",{className:"cart-layout",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Your Cart"}),0===t.length&&Object(h.jsx)("p",{children:"You have not added any product to your cart yet."}),t.length>0&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("table",{className:"table table-cart",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{width:"25%",className:"th-product",children:"Product"}),Object(h.jsx)("th",{width:"20%",children:"Unit price"}),Object(h.jsx)("th",{width:"10%",children:"Quanity"}),Object(h.jsx)("th",{width:"25%",children:"Total"})]})}),Object(h.jsx)("tbody",{children:t.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[Object(h.jsx)("img",{src:e.image,width:"30",height:"30",alt:""})," ",e.name]}),Object(h.jsxs)("td",{children:["$",e.price]}),Object(h.jsx)("td",{children:e.quantity}),Object(h.jsx)("td",{children:Object(h.jsxs)("strong",{children:["$",e.price*e.quantity]})})]},e.id)}))}),Object(h.jsx)("tfoot",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{colSpan:"2"}),Object(h.jsx)("th",{className:"cart-highlight",children:"Total"}),Object(h.jsxs)("th",{className:"cart-highlight",children:["$",c]})]})})]}),Object(h.jsxs)("form",{className:"pay-form",onSubmit:function(e){e.preventDefault();var c=t.map((function(e){return{price:e.price_id,quantity:e.quantity}}));A.then((function(e){e.redirectToCheckout({lineItems:c,mode:"payment",successUrl:"http://localhost:3000/success",cancelUrl:"http://localhost:3000/cancel",customerEmail:a}).then((function(e){console.log(e.error)})).catch((function(e){console.log(e)}))}))},children:[Object(h.jsxs)("p",{children:["Enter your email and then click on pay and your products will be delivered to you on the same day!",Object(h.jsx)("br",{}),Object(h.jsx)("em",{children:"Enter your own Stripe Publishable Key in Cart.js for the checkout to work"})]}),Object(h.jsx)(_,{placeholder:"Email",onChange:function(e){return s(e.target.value)},value:a,type:"email",required:!0}),Object(h.jsx)(f,{type:"submit",children:"Pay"})]})]})]})})}var J=function(){return Object(h.jsx)(O,{children:Object(h.jsxs)(s.a,{children:[Object(h.jsx)(v,{}),Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{exact:!0,path:"/",children:Object(h.jsx)(g,{})}),Object(h.jsx)(o.a,{exact:!0,path:"/about",children:Object(h.jsx)(y,{})}),Object(h.jsx)(o.a,{exact:!0,path:"/success",children:Object(h.jsx)(C,{})}),Object(h.jsx)(o.a,{exact:!0,path:"/cancel",children:Object(h.jsx)(N,{})}),Object(h.jsx)(o.a,{exact:!0,path:"/products",children:Object(h.jsx)(F,{})}),Object(h.jsx)(o.a,{path:"/products/:id",children:Object(h.jsx)(M,{})}),Object(h.jsx)(o.a,{exact:!0,path:"/cart",children:Object(h.jsx)(I,{})})]})})]})})};a.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(J,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.95162770.chunk.js.map